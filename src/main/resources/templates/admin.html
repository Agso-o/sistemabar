<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrador</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/auth-guard.js"></script>
    <script src="/js/painel-switcher.js" defer></script>
    <script src="/js/admin.js" defer></script>
</head>
<body>
<header class="header">
    <nav>
        <ul>
            <li><a href="/">Voltar ao Início</a></li>
        </ul>
    </nav>
</header>

<div class="box" style="margin-top: 80px;">
    <h1 class="texto">PAINEL DO ADMINISTRADOR</h1>
    <select name="Ação" id="acao_admin">
        <option value="0">Selecione uma ação...</option>
        <option value="1">Cadastrar/Editar Mesas</option>
        <option value="2">Cadastrar/Editar Itens do Cardápio</option>
        <option value="3">Definir Preço de Entrada (Couvert)</option>
        <option value="4">Definir Percentual de Gorjeta</option>
        <option value="5">Acessar Relatórios</option>
    </select>

    <div id="paineis-container">
        <div id="painel-1" class="painel-acao">
            <form class="box" onsubmit="verificarMesa(event)">
                <h3 class="texto">Gerenciar Mesas</h3>
                <input type="number" id="mesa-numero" placeholder="Insira o Número da Mesa">
                <button type="submit">Verificar</button>
            </form>
            <div id="mesa-create-panel" class="sub-painel">
                <form class="box" onsubmit="criarMesa(event)">
                    <h3 class="texto">Mesa não existe.</h3>
                    <button type="submit">Cadastrar Mesa</button>
                </form>
            </div>
            <div id="mesa-edit-panel" class="sub-painel">
                <form class="box" onsubmit="editarMesa(event)">
                    <h3 class="texto">Editando Mesa:</h3>
                    <input type="hidden" id="mesa-edit-id">
                    <label class="texto">Número:</label>
                    <input type="number" id="mesa-edit-numero">
                    <label class="texto">Status:</label>
                    <select id="mesa-edit-status" style="width: 250px; height: 30px;">
                        <option value="FECHADA">FECHADA (Disponível)</option>
                        <option value="ABERTA">ABERTA (Em uso)</option>
                    </select>
                    <button type="submit" style="background-color: #28a745; margin-top: 15px;">Salvar</button>
                    <button type="button" onclick="deletarMesa()" style="background-color: #dc3545; margin-top: 10px;">Excluir</button>
                </form>
            </div>
        </div>

        <div id="painel-2" class="painel-acao">
            <form class="box" onsubmit="verificarItem(event)">
                <h3 class="texto">Gerenciar Cardápio</h3>
                <input type="number" id="item-codigo" placeholder="Código/Número do Item">
                <button type="submit">Verificar</button>
            </form>

            <div id="item-create-panel" class="sub-painel">
                <form class="box" onsubmit="criarItem(event)">
                    <h3 class="texto">Item não existe. Criar novo:</h3>

                    <label class="texto">Número (Código):</label>
                    <input type="number" id="item-create-numero" required>

                    <input type="text" id="item-create-nome" placeholder="Nome do Item" required>
                    <input type="number" id="item-create-preco" step="0.01" placeholder="Preço (R$)" required>

                    <label class="texto">Tipo:</label>
                    <select id="item-create-tipo-select" style="width: 250px; height: 30px;">
                        <option value="2">Bebida</option>
                        <option value="3">Comida</option>
                    </select>
                    <button type="submit">Criar Item</button>
                </form>
            </div>

            <div id="item-edit-panel" class="sub-painel">
                <form class="box" onsubmit="editarItem(event)">
                    <h3 class="texto">Editando Item:</h3>
                    <p class="texto" style="font-size: 12px;">Status: <span id="item-status-label">...</span></p>

                    <input type="hidden" id="item-edit-id">

                    <label class="texto">Número (Código):</label>
                    <input type="number" id="item-edit-numero" required>

                    <label class="texto">Nome:</label>
                    <input type="text" id="item-edit-nome" required>

                    <label class="texto">Preço (R$):</label>
                    <input type="number" id="item-edit-preco" step="0.01" required>

                    <label class="texto">Tipo:</label>
                    <select id="item-edit-tipo-select" style="width: 250px; height: 30px;">
                        <option value="2">Bebida</option>
                        <option value="3">Comida</option>
                    </select>

                    <button type="submit" style="background-color: #28a745; margin-top: 15px;">Salvar Alterações</button>
                    <button type="button" onclick="deletarItem()" style="background-color: #dc3545; margin-top: 10px;">Excluir (Inativar)</button>
                </form>
            </div>
        </div>

        <div id="painel-3" class="painel-acao">
            <form class="box" onsubmit="definirCouvert(event)">
                <h3 class="texto">Definir Preço do Couvert</h3>
                <p class="texto">Valor Atual: R$ <span id="couvert-atual">0.00</span></p>
                <input type="number" id="couvert-novo-valor" placeholder="Novo Valor (R$)">
                <button type="submit">Salvar Valor</button>
            </form>
        </div>

        <div id="painel-4" class="painel-acao">
            <form class="box" onsubmit="definirGorjeta(event)">
                <h3 class="texto">Definir Percentual de Gorjeta</h3>
                <p class="texto">Gorjeta Bebidas Atual: <span id="gorjeta-bebidas-atual">0</span>%</p>
                <input type="number" id="gorjeta-bebidas-nova" placeholder="Nova % Bebidas">
                <p class="texto">Gorjeta Comidas Atual: <span id="gorjeta-comidas-atual">0</span>%</p>
                <input type="number" id="gorjeta-comidas-nova" placeholder="Nova % Comidas">
                <button type="submit">Salvar Percentuais</button>
            </form>
        </div>

        <div id="painel-5" class="painel-acao">
            <form class="box" onsubmit="gerarRelatorio(event)">
                <h3 class="texto">Acessar Relatórios</h3>
                <label class="texto" for="relatorio-inicio">Data Início:</label>
                <input type="date" id="relatorio-inicio">
                <label class="texto" for="relatorio-fim">Data Fim:</label>
                <input type="date" id="relatorio-fim">
                <button type="submit">Gerar Relatório</button>
            </form>
            <div id="relatorio-resultado" class="sub-painel box">
                <h3 class="texto">Relatório do Período</h3>
                <p class="texto">Faturamento Total: R$ <span id="rel-faturamento">...</span></p>
                <p class="texto">Item Mais Vendido: <span id="rel-mais-vendido">...</span></p>
                <p class="texto">Item de Maior Faturamento: <span id="rel-maior-faturamento">...</span></p>
            </div>
        </div>
    </div>
</div>
</body>
</html>