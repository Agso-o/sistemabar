<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GarÃ§om</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/auth-guard.js"></script>
    <script src="/js/painel-switcher.js" defer></script>
    <script src="/js/garcom.js" defer></script>
</head>
<body>
<header class="header">
    <nav>
        <ul>
            <li><a href="/">Voltar ao InÃ­cio</a></li>
        </ul>
    </nav>
</header>

<div class="box" style="margin-top: 80px;">
    <h1 class="texto">PAINEL DO GARÃ‡OM</h1>
    <select name="AÃ§Ã£o" id="acao_garcom">
        <option value="0">Selecione uma aÃ§Ã£o...</option>
        <option value="1">Abrir mesa</option>
        <option value="2">Adicionar pessoa Ã  mesa</option>
        <option value="3">Adicionar itens na mesa</option>
        <option value="4">Remover ou cancelar itens</option>
        <option value="5">Habilitar/dispensar couvert</option>
        <option value="6">Fechar conta da mesa</option>
        <option value="7">Registrar pagamento</option>
    </select>

    <div id="paineis-container">
        <div id="painel-1" class="painel-acao">
            <form class="box" onsubmit="abrirMesa(event)">
                <h3 class="texto">Abrir Mesa</h3>
                <input type="number" id="abrir-mesa-numero" placeholder="NÃºmero da Mesa">
                <input type="number" id="abrir-mesa-pessoas" placeholder="Qtd. de Pessoas">
                <button type="submit">Confirmar Abertura</button>
            </form>
        </div>

        <div id="painel-2" class="painel-acao">
            <h3 class="texto">Adicionar Pessoa</h3>
            <p class="texto-info">Em breve...</p>
        </div>

        <div id="painel-3" class="painel-acao">
            <form class="box" onsubmit="adicionarItem(event)">
                <h3 class="texto">Adicionar Itens</h3>
                <input type="number" id="add-item-mesa" placeholder="NÃºmero da Mesa">
                <input type="number" id="add-item-codigo" placeholder="CÃ³digo do Item (CardÃ¡pio)">
                <input type="number" id="add-item-qtd" placeholder="Quantidade">
                <button type="submit">Adicionar Item</button>
            </form>
        </div>

        <div id="painel-4" class="painel-acao">
            <form class="box" onsubmit="removerItem(event)">
                <h3 class="texto">Cancelar Item</h3>
                <input type="number" id="remover-item-codigo" placeholder="ID do Pedido (Ver na comanda)">
                <input type="text" id="remover-item-motivo" placeholder="Motivo do cancelamento">
                <button type="submit">Cancelar Item</button>
            </form>
        </div>

        <div id="painel-5" class="painel-acao">
            <h3 class="texto">Habilitar/Dispensar Couvert</h3>
            <p class="texto-info">Em breve...</p>
        </div>

        <div id="painel-6" class="painel-acao">
            <form class="box" onsubmit="fecharConta(event)">
                <h3 class="texto">Fechar Conta</h3>
                <input type="number" id="fechar-mesa-numero" placeholder="NÃºmero da Mesa">
                <button type="submit">Fechar Conta</button>
            </form>
        </div>

        <div id="painel-7" class="painel-acao">

            <form class="box" id="form-consulta-pgto" onsubmit="verificarSaldo(event)">
                <h3 class="texto">Registrar Pagamento</h3>
                <input type="number" id="pgto-mesa-numero" placeholder="NÃºmero da Mesa">
                <button type="submit">Verificar Conta</button>
            </form>

            <div id="pgto-area-pagar" class="box" style="display: none; border-top: 1px solid #555; margin-top: 20px; width: 100%;">

                <h3 class="texto" style="color: yellow;">Extrato Atualizado</h3>

                <button type="button" onclick="atualizarValoresPgto()" style="background-color: #008cff; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer; font-size: 12px; margin-bottom: 10px;">
                    ðŸ”„ Atualizar Valores
                </button>

                <div style="background-color: #222; padding: 10px; border-radius: 5px; width: 90%; text-align: center;">
                    <p class="texto">Total Bruto: <span id="pgto-view-total">R$ 0,00</span></p>
                    <p class="texto">JÃ¡ Pago: <span id="pgto-view-pago" style="color: #4cd137;">R$ 0,00</span></p>
                    <h2 class="texto" style="margin: 10px 0;">FALTA: <span id="pgto-view-restante" style="color: #ff6b6b;">R$ 0,00</span></h2>

                    <details style="color: #aaa; font-size: 12px; cursor: pointer; text-align: left; margin-top: 5px;">
                        <summary>Ver Pagamentos Parciais</summary>
                        <ul id="pgto-lista-parciais" style="list-style: none; padding: 5px;"></ul>
                    </details>
                </div>

                <form class="box" onsubmit="realizarPagamento(event)" style="margin-top: 15px;">
                    <input type="number" id="pgto-valor-input" placeholder="Valor a Pagar (R$)" step="0.01">
                    <button type="submit" style="background-color: #28a745;">Confirmar Pagamento</button>
                    <button type="button" onclick="cancelarPgto()" style="background-color: #555; width: 100px; font-size: 12px;">Voltar</button>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>